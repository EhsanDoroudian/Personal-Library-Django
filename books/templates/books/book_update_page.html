{% extends "_base.html" %}
{% load static %}

{% block title %}Book Update{% endblock title %}


{% block style %}
    <link rel="stylesheet" href="{% static "css/book_update.css" %}">
{% endblock style %}

{% block content %}

<!-- Main Content -->
<div class="container mt-4">
    <div class="row">
        <div class="col-lg-9 col-md-8">
            <div class="form-card card shadow my-3">
                <h5 class="card-header bg-success text-light px-5">فرم افزودن کتاب</h5>
                <div class="card-body px-5 py-4">
                    <form method="POST">
                        <div class="form-section-title">اطلاعات اصلی</div>
                        <div class="form-group mb-3">
                            <label class="form-label" for="title">عنوان کتاب:</label>
                            <input type="text" class="form-control" id="title" name="title" placeholder="عنوان کتاب را وارد کنید" required>
                        </div>
                        <div class="form-group mb-3">
                            <label class="form-label" for="author">نویسنده:</label>
                            <input type="text" class="form-control" id="author" name="author" placeholder="نام نویسنده" required>
                        </div>
                        <div class="form-group mb-3">
                            <label class="form-label" for="description">توضیحات کتاب:</label>
                            <textarea class="form-control" id="description" name="description" rows="6" placeholder="توضیحات کتاب را وارد کنید" required></textarea>
                        </div>

                        <div class="form-section-title">اطلاعات تکمیلی</div>
                        <div class="row">
                            <div class="col-md-6">
                                <div class="form-group mb-3">
                                    <label class="form-label" for="translator">مترجم (اختیاری):</label>
                                    <input type="text" class="form-control" id="translator" name="translator" placeholder="نام مترجم">
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-group mb-3">
                                    <label class="form-label" for="publisher">انتشارات (اختیاری):</label>
                                    <input type="text" class="form-control" id="publisher" name="publisher" placeholder="نام انتشارات">
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-6">
                                <div class="form-group mb-3">
                                    <label class="form-label" for="price">قیمت (تومان، اختیاری):</label>
                                    <input type="number" class="form-control" id="price" name="price" placeholder="قیمت به تومان" min="0">
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-group mb-3">
                                    <label class="form-label" for="publication_year">سال انتشار (اختیاری):</label>
                                    <input type="number" class="form-control" id="publication_year" name="publication_year" placeholder="مثال: ۱۴۰۲" min="1000" max="1500">
                                </div>
                            </div>
                        </div>
                        <div class="form-group mb-3">
                            <label class="form-label" for="isbn">شابک (ISBN، اختیاری):</label>
                            <input type="text" class="form-control" id="isbn" name="isbn" placeholder="مثال: 978-964-6232-17-4" pattern="\d{3}-\d{1,5}-\d{1,7}-\d{1,6}-\d{1}">
                        </div>
                        <div class="form-group mb-3">
                            <label class="form-label" for="category">دسته‌بندی (اختیاری):</label>
                            <select class="form-select" id="category" name="category">
                                <option value="" selected>انتخاب دسته‌بندی</option>
                                <option value="روانشناسی">روانشناسی و موفقیت</option>
                                <option value="رمان">رمان و داستان</option>
                                <option value="تاریخی">تاریخی</option>
                                <option value="علمی">علمی</option>
                                <option value="فلسفه">فلسفه</option>
                            </select>
                        </div>
                        <div class="form-group mb-3">
                            <label class="form-label" for="status">وضعیت مطالعه (اختیاری):</label>
                            <select class="form-select" id="status" name="status">
                                <option value="" selected>انتخاب وضعیت</option>
                                <option value="read">خوانده شده</option>
                                <option value="reading">در حال خواندن</option>
                                <option value="unread">خوانده نشده</option>
                            </select>
                        </div>
                        <div class="form-group mb-3">
                            <label class="form-label" for="book_image">لینک تصویر کتاب (اختیاری):</label>
                            <input type="url" class="form-control" id="book_image" name="book_image" placeholder="https://example.com/image.jpg">
                            <img id="image_preview" class="preview-img" src="" alt="پیش‌نمایش تصویر کتاب" style="display: none;">
                        </div>

                        <div class="d-flex justify-content-end mt-4">
                            <button type="submit" class="btn btn-success me-2"><i class="bi bi-save-fill me-1"></i> ذخیره</button>
                            <a href="#" class="btn btn-outline-danger"><i class="bi bi-x-circle-fill me-1"></i> لغو</a>
                        </div>
                    </form>
                </div>
            </div>
        </div>
        <div class="col-lg-3 col-md-4">
            <div class="help-card card my-3 shadow">
                <h5 class="card-header bg-warning text-light">راهنما</h5>
                <div class="card-body">
                    <p class="card-text">
                        برای افزودن کتاب جدید، اطلاعات زیر را وارد کنید:
                        <ul>
                            <li><strong>اجباری:</strong> عنوان، نویسنده، توضیحات</li>
                            <li><strong>اختیاری:</strong> مترجم، انتشارات، قیمت، سال انتشار، شابک، دسته‌بندی، وضعیت مطالعه، تصویر کتاب</li>
                            <li>برای پیش‌نمایش تصویر، لینک معتبر وارد کنید.</li>
                        </ul>
                        پس از تکمیل فرم، روی دکمه ذخیره کلیک کنید.
                    </p>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock content %}


<!-- Bootstrap JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>

<!-- Custom Script -->
{% block custom_script %}
<script src="{% static 'js/book_update.js' %}"></script>
{% endblock custom_script %}